{% extends "base.html" %}

{% block title %}Discord Link{% endblock %}

{% block head %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/discord_link.css') }}">
{% endblock %}

{% block body %}
<div id="main-container">
    <div id="content-wrapper">
        <div class="w-full max-w-md">
            <div class="text-center mt-4 bg-white shadow-lg rounded-lg p-6">
                <img src="{{ discord_user.avatar_url if not None else url_for('static', filename='images/discord_pfp.png') }}"
                    alt="Profile Picture" class="rounded-full h-32 w-32 mb-4 mx-auto">
                <h1 class="text-3xl font-semibold mb-2">{{ discord_user }}</h1>
                {% if not_logged_in %}
                <p class="text-gray-700 text-lg text-center mb-4">You need to be logged into an AI Universal account
                    before you can link your Discord!
                </p>
                <button
                    class="bg-gradient-to-r from-blue-700 to-blue-900 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline mt-4"
                    onclick="location.href='/login'">Log in</button>
                <button
                    class="bg-gradient-to-r from-blue-700 to-blue-900 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline mt-4"
                    onclick="location.href='/signup'">Sign up</button>
                {% elif already_linked %}
                <p class="text-gray-700 text-lg text-center mb-4">You need to unlink the Discord account already linked
                    to your account before linking a new one!
                </p>
                {% elif link_success and join_success is none %}
                <p class="text-gray-700 text-lg text-center mb-4">Successfully linked your Discord to your AI Universal
                    account.
                </p>
                {% elif link_success and not join_success %}
                <p class="text-gray-700 text-lg text-center mb-4">Successfully linked your Discord to your AI Universal
                    account. Join our discord server!
                </p>
                <button
                    class="bg-gradient-to-r from-blue-700 to-blue-900 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline mt-4"
                    onclick="location.href='{{ discord_guild_invite }}'">Join Discord</button>
                {% elif link_success and join_success %}
                <p class=" text-gray-700 text-lg text-center mb-4">Successfully linked your Discord to your AI
                    Universal account; and added you to the AI Universal Discord server.
                </p>
                {% endif %}
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block js %}
{% endblock %}